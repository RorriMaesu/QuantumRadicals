<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Room-Temp Quantum Coherence • Radical Pair Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <!-- Plotly for slick interactive graphs -->
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
</head>
<body>
  <h1>Biomimetic Radical Pair Simulator</h1>

  <section id="controls">
    <div class="slider"><label>B&nbsp;(mT) <input type="range" id="B" min="0" max="50" value="0.05" step="0.05"></label></div>
    <div class="slider"><label>A<sub>z</sub>&nbsp;(MHz) <input type="range" id="A" min="0" max="30" value="5" step="0.1"></label></div>
    <div class="slider"><label>J&nbsp;(MHz) <input type="range" id="J" min="0" max="10" value="0" step="0.1"></label></div>
    <div class="slider"><label>D&nbsp;(MHz) <input type="range" id="D" min="0" max="10" value="0" step="0.1"></label></div>
    <div class="slider"><label>γ&nbsp;(μs⁻¹) <input type="range" id="gamma" min="0" max="1" value="0.1" step="0.01"></label></div>
    <button id="heatmap">Sweep A vs γ</button>
  </section>

  <div id="plots">
    <div id="polar" class="chart"></div>
    <div id="decay" class="chart"></div>
    <div id="map"   class="chart" style="display:none;"></div>
  </div>

  <footer>Open source @ <a href="https://github.com/rorrimaesu/QuantumRadicals">rorrimaesu/QuantumRadicals</a></footer>

  <script type="module">
    import {updatePolar, updateDecay, sweepMap} from './plot.js';
    import {params} from './sim.js';

    // Wire sliders
    document.querySelectorAll('input[type=range]').forEach(sl=>{
      sl.addEventListener('input', ()=>{ params[sl.id]=parseFloat(sl.value); updatePolar(); updateDecay(); });
    });

    document.getElementById('heatmap').onclick = ()=>{ sweepMap(); };

    // first draw
    updatePolar(); updateDecay();
  </script>
</body>
</html>
